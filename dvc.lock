schema: '2.0'
stages:
  make_dataset:
    cmd: python .\src\data\make_dataset.py
    deps:
    - path: .\data\ingested\student_performance.csv
      hash: md5
      md5: 64364f4a63e1a6e482ac906dcae90c40
      size: 2214
    - path: .\src\data\make_dataset.py
      hash: md5
      md5: a2aefbef2b8f3bfdcec53bc10caa5288
      size: 1808
    params:
      params.yaml:
        make_dataset.random_state: 42
        make_dataset.test_size: 0.1
    outs:
    - path: .\data\raw\
      hash: md5
      md5: 53da25f765ad4d882be9d6062122d451.dir
      size: 2374
      nfiles: 2
  build_features:
    cmd: python .\src\features\build_features.py
    deps:
    - path: .\data\raw\
      hash: md5
      md5: 53da25f765ad4d882be9d6062122d451.dir
      size: 2374
      nfiles: 2
    - path: .\src\features\build_features.py
      hash: md5
      md5: 4f8907c74c005d364b1b165e606c4142
      size: 2549
    params:
      params.yaml:
        build_features.n_components: 0.95
    outs:
    - path: .\data\processed\
      hash: md5
      md5: e7e49b3b0499319ff12a783da56af4ba.dir
      size: 10171
      nfiles: 2
    - path: .\models\preprocessor.joblib
      hash: md5
      md5: 065bddec23c8e75290df768c3c455371
      size: 2550
  train_model:
    cmd: python .\src\models\train_model.py
    deps:
    - path: .\data\processed\train_processed.csv
      hash: md5
      md5: fe7830d3830a5fd4c25f6ff082d6d8b1
      size: 9129
    - path: .\src\models\train_model.py
      hash: md5
      md5: d0174e16d9dd898b45c04e72320e5c27
      size: 1475
    params:
      params.yaml:
        train_model:
          n_estimators: 200
          verbose: 2
          learning_rate: 0.1
          max_depth: 4
    outs:
    - path: .\models\model.joblib
      hash: md5
      md5: fdc91e4850a7fb6595488b84bf0e1977
      size: 451784
  predict_model:
    cmd: python .\src\models\predict_model.py
    deps:
    - path: .\data\processed\test_processed.csv
      hash: md5
      md5: a5f969102be6d1ed638a7990ea75aa34
      size: 1042
    - path: .\models\model.joblib
      hash: md5
      md5: fdc91e4850a7fb6595488b84bf0e1977
      size: 451784
    - path: .\src\models\predict_model.py
      hash: md5
      md5: 7e86fc415e7e5978ad0848543a7ee077
      size: 2095
    outs:
    - path: .\reports\figures\confusion_matrix.png
      hash: md5
      md5: 677ae8232ebe739d0eba61fc09bce7ac
      size: 13087
    - path: .\reports\metrics.json
      hash: md5
      md5: 281d7294a0d0a8073e9fbd0f1ed83e05
      size: 106
